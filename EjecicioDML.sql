/*Creamos las tablas*/
CREATE TABLE PROVEEDORES(
	NUMERO INT NOT NULL,
	NOMBRE VARCHAR(20) NOT NULL,
	DOMICILIO VARCHAR(20) NOT NULL,
	LOCALIDAD VARCHAR(30) NOT NULL,
	PRIMARY KEY(NUMERO));

CREATE TABLE PRODUCTOS(
	PNRO INT NOT NULL,
	PNOMBRE VARCHAR(20) NOT NULL,
	PRECIO FLOAT NOT NULL,
	TAMANO VARCHAR(10) NOT NULL,
	LOCALIDAD VARCHAR(30) NOT NULL,
	PRIMARY KEY(PNRO));
	
CREATE TABLE PROV_PROD(
	NUMERO INT NOT NULL,
	PNRO INT NOT NULL,
	CANTIDAD INT NOT NULL,
	PRIMARY KEY(NUMERO, PNRO));
	
	
/*Cargamos las tablas*/
INSERT INTO PROVEEDORES(NUMERO, NOMBRE, DOMICILIO, LOCALIDAD) VALUES (101, "Gómez", "Nazca 920", "Capital Federal");
INSERT INTO PROVEEDORES(NUMERO, NOMBRE, DOMICILIO, LOCALIDAD) VALUES (102, "Pérez", "Argerich 1030", "Capital Federal");
INSERT INTO PROVEEDORES(NUMERO, NOMBRE, DOMICILIO, LOCALIDAD) VALUES (103, "Vázquez", "Sarmiento 450", "Ramos Mejía");
INSERT INTO PROVEEDORES(NUMERO, NOMBRE, DOMICILIO, LOCALIDAD) VALUES (104, "López", "Alsina 720", "Avellaneda");


INSERT INTO PRODUCTOS(PNRO, PNOMBRE, PRECIO, TAMANO, LOCALIDAD) VALUES (001, "Talco", 5, "Chico", "Capital Federal");
INSERT INTO PRODUCTOS(PNRO, PNOMBRE, PRECIO, TAMANO, LOCALIDAD) VALUES (002, "Talco", 7, "Mediano", "Capital Federal");
INSERT INTO PRODUCTOS(PNRO, PNOMBRE, PRECIO, TAMANO, LOCALIDAD) VALUES (003, "Crema", 8, "Grande", "Ramos Mejía");
INSERT INTO PRODUCTOS(PNRO, PNOMBRE, PRECIO, TAMANO, LOCALIDAD) VALUES (004, "Cepillo", 2, "Grande", "Avellaneda");
INSERT INTO PRODUCTOS(PNRO, PNOMBRE, PRECIO, TAMANO, LOCALIDAD) VALUES (005, "Esmalte", 1.2, "Normal", "Chacarita");


INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (101, 001, 300);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (101, 002, 200);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (101, 003, 400);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (101, 004, 200);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (101, 005, 100);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (102, 001, 300);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (102, 002, 400);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (103, 002, 200);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (104, 002, 200);
INSERT INTO PROV_PROD(NUMERO, PNRO, CANTIDAD) VALUES (104, 004, 300);

/*Punto 1: */

SELECT * FROM productos

/*Punto 2: */

SELECT * FROM proveedores WHERE localidad = "Capital Federal"

/*Punto 3: */

SELECT * FROM PROV_PROD WHERE cantidad BETWEEN 200 AND 300;

/*Punto 4: */

SELECT pnro FROM productos AS prod, proveedores AS prov WHERE prov.LOCALIDAD = "Avellaneda"  

/*Punto 5: */
SELECT SUM(cantidad) AS cantidad_total FROM PROV_PROD WHERE PNRO = 001 AND NUMERO = 103;


/*Punto 6: */
SELECT pnombre, localidad FROM productos WHERE localidad LIKE "_a%"


/*Punto 7: */
SELECT precio FROM productos AS prod, proveedores AS prov WHERE prov.NUMERO = 102  



/*Punto 8: */
SELECT DISTINCT localidad
FROM (
    SELECT localidad FROM proveedores
    UNION
    SELECT localidad FROM productos
) AS localidades;



/*Punto 9: */
UPDATE productos
SET TAMANO = "Chico"
WHERE TAMANO = "Mediano";
/* COMO EN LA TABLA NO EXISTE MEDIANO LO PROBAMOS CON "NORMAL" */
UPDATE productos
SET TAMANO = "Chico"
WHERE TAMANO = "Normal";


SELECT * FROM PRODUCTOS


/*Punto 10: */

DELETE FROM PROV_PROD WHERE cantidad = 0;
SELECT * FROM prov_prod

/*Punto 11: */
INSERT INTO PROVEEDORES(NUMERO, NOMBRE, DOMICILIO, LOCALIDAD) VALUES (107, "Rosales", "", "Wilde");




